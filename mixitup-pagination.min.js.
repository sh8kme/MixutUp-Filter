!function(a){"use strict";var t=function(u){var d=u.h;if(!u.CORE_VERSION||!d.compareVersions(t.REQUIRE_CORE_VERSION,u.CORE_VERSION))throw new Error("[MixItUp Pagination] MixItUp Pagination "+t.EXTENSION_VERSION+" requires at least MixItUp "+t.REQUIRE_CORE_VERSION);u.ConfigClassNames.registerAction("afterConstruct","pagination",function(){this.elementPager="control",this.elementPageList="page-list",this.elementPageStats="page-stats",this.modifierFirst="first",this.modifierLast="last",this.modifierPrev="prev",this.modifierNext="next",this.modifierTruncationMarker="truncation-marker"}),u.ConfigLoad.registerAction("afterConstruct","pagination",function(){this.page=1}),u.ConfigPagination=function(){this.generatePageList=!0,this.generatePageStats=!0,this.maintainActivePage=!0,this.loop=!1,this.hidePageListIfSinglePage=!1,this.hidePageStatsIfSinglePage=!1,this.limit=-1,this.maxPagers=5,d.seal(this)},u.ConfigRender.registerAction("afterConstruct","pagination",function(){this.pager=null,this.pageStats=null}),u.ConfigSelectors.registerAction("afterConstruct","pagination",function(){this.pageList=".mixitup-page-list",this.pageStats=".mixitup-page-stats"}),u.ConfigTemplates.registerAction("afterConstruct","pagination",function(){this.pager='<button type="button" class="${classNames}" data-page="${pageNumber}">${pageNumber}</button>',this.pagerPrev='<button type="button" class="${classNames}" data-page="prev">&laquo;</button>',this.pagerNext='<button type="button" class="${classNames}" data-page="next">&raquo;</button>',this.pagerTruncationMarker='<span class="${classNames}">&hellip;</span>',this.pageStats="${startPageAt} to ${endPageAt} of ${totalTargets}",this.pageStatsSingle="${startPageAt} of ${totalTargets}",this.pageStatsFail="None found"}),u.Config.registerAction("beforeConstruct","pagination",function(){this.pagination=new u.ConfigPagination}),u.ModelPager=function(){this.pageNumber=-1,this.classNames="",this.classList=[],this.isDisabled=!1,this.isPrev=!1,this.isNext=!1,this.isPageLink=!1,this.isTruncationMarker=!1,d.seal(this)},u.ModelPageStats=function(){this.startPageAt=-1,this.endPageAt=-1,this.totalTargets=-1,d.seal(this)},u.UiClassNames.registerAction("afterConstruct","pagination",function(){this.first="",this.last="",this.prev="",this.next="",this.first="",this.last="",this.truncated="",this.truncationMarker=""}),u.controlDefinitions.push(new u.ControlDefinition("pager","[data-page]",!0,"pageListEls")),u.Control.registerFilter("commandsHandleClick","pagination",function(a,t){var e=this,i={},n="",s=null,o=null,g=-1;if(!e.selector||"[data-page]"!==e.selector)return a;for(o=d.closestParent(t.target,e.selector,!0,e.bound[0].dom.document),g=0;s=e.bound[g];g++)i=a[g],!s.config.pagination||s.config.pagination.limit<0||s.config.pagination.limit===1/0||!o||d.hasClass(o,s.classNamesPager.active)||d.hasClass(o,s.classNamesPager.disabled)?a[g]=null:(n=o.getAttribute("data-page"),i.paginate="prev"===n?"prev":"next"===n?"next":parseInt(n),s.lastClicked&&(s.lastClicked=o));return a}),u.CommandMultimix.registerAction("afterConstruct","pagination",function(){this.paginate=null}),u.CommandPaginate=function(){this.page=-1,this.limit=-1,this.action="",this.anchor=null,d.seal(this)},u.Operation.registerAction("afterConstruct","pagination",function(){this.startPagination=null,this.newPagination=null,this.startTotalPages=-1,this.newTotalPages=-1}),u.State.registerAction("afterConstruct","pagination",function(){this.activePagination=null,this.totalPages=-1}),u.MixerDom.registerAction("afterConstruct","pagination",function(){this.pageListEls=[],this.pageStatsEls=[]}),u.Mixer.registerAction("afterConstruct","pagination",function(){this.classNamesPager=new u.UiClassNames,this.classNamesPageList=new u.UiClassNames,this.classNamesPageStats=new u.UiClassNames}),u.Mixer.registerAction("afterAttach","pagination",function(){var a=this,t=null,e=-1;if(!(a.config.pagination.limit<0)){if(a.classNamesPager.base=d.getClassname(a.config.classNames,"pager"),a.classNamesPager.active=d.getClassname(a.config.classNames,"pager",a.config.classNames.modifierActive),a.classNamesPager.disabled=d.getClassname(a.config.classNames,"pager",a.config.classNames.modifierDisabled),a.classNamesPager.first=d.getClassname(a.config.classNames,"pager",a.config.classNames.modifierFirst),a.classNamesPager.last=d.getClassname(a.config.classNames,"pager",a.config.classNames.modifierLast),a.classNamesPager.prev=d.getClassname(a.config.classNames,"pager",a.config.classNames.modifierPrev),a.classNamesPager.next=d.getClassname(a.config.classNames,"pager",a.config.classNames.modifierNext),a.classNamesPager.truncationMarker=d.getClassname(a.config.classNames,"pager",a.config.classNames.modifierTruncationMarker),a.classNamesPageList.base=d.getClassname(a.config.classNames,"page-list"),a.classNamesPageList.disabled=d.getClassname(a.config.classNames,"page-list",a.config.classNames.modifierDisabled),a.classNamesPageStats.base=d.getClassname(a.config.classNames,"page-stats"),a.classNamesPageStats.disabled=d.getClassname(a.config.classNames,"page-stats",a.config.classNames.modifierDisabled),a.config.pagination.generatePageList&&0<a.dom.pageListEls.length)for(e=0;t=a.dom.pageListEls[e];e++)a.renderPageListEl(t,a.lastOperation);if(a.config.pagination.generatePageStats&&0<a.dom.pageStatsEls.length)for(e=0;t=a.dom.pageStatsEls[e];e++)a.renderPageStatsEl(t,a.lastOperation)}}),u.Mixer.registerFilter("operationGetInitialState","pagination",function(a,t){return this.config.pagination.limit<0||(a.newPagination=t.activePagination),a}),u.Mixer.registerFilter("stateGetInitialState","pagination",function(a){var t=this;return t.config.pagination.limit<0||(a.activePagination=new u.CommandPaginate,a.activePagination.page=t.config.load.page,a.activePagination.limit=t.config.pagination.limit),a}),u.Mixer.registerAction("afterGetFinalMixData","pagination",function(){var a=this;a.config.pagination.limit<0||"number"==typeof a.config.pagination.maxPagers&&(a.config.pagination.maxPagers=Math.max(5,a.config.pagination.maxPagers))}),u.Mixer.registerAction("afterCacheDom","pagination",function(){var a=this,t=null;if(!(a.config.pagination.limit<0)&&a.config.pagination.generatePageList){switch(a.config.controls.scope){case"local":t=a.dom.container;break;case"global":t=a.dom.document;break;default:throw new Error(u.messages.ERROR_CONFIG_INVALID_CONTROLS_SCOPE)}a.dom.pageListEls=t.querySelectorAll(a.config.selectors.pageList),a.dom.pageStatsEls=t.querySelectorAll(a.config.selectors.pageStats)}}),u.Mixer.registerFilter("stateBuildState","pagination",function(a,t){return this.config.pagination.limit<0||(a.activePagination=t.newPagination,a.totalPages=t.newTotalPages),a}),u.Mixer.registerFilter("instructionParseMultimixArgs","pagination",function(a){return this.config.pagination.limit<0||!a.command.paginate||a.command.paginate instanceof u.CommandPaginate||(a.command.paginate=this.parsePaginateArgs([a.command.paginate]).command),a}),u.Mixer.registerAction("afterFilterOperation","pagination",function(a){var t=this,e=-1,i=-1,n=[],s=[],o=null,g=-1,r=-1;if(!(t.config.pagination.limit<0)){if(a.newTotalPages=a.newPagination.limit?Math.max(Math.ceil(a.matching.length/a.newPagination.limit),1):1,t.config.pagination.maintainActivePage&&(a.newPagination.page=a.newPagination.page>a.newTotalPages?a.newTotalPages:a.newPagination.page),t.config.pagination.limit=a.newPagination.limit,a.newPagination.anchor){for(r=0;(o=a.matching[r])&&o.dom.el!==a.newPagination.anchor;r++);i=(e=r)+a.newPagination.limit-1}else e=a.newPagination.limit*(a.newPagination.page-1),i=a.newPagination.limit*a.newPagination.page-1,isNaN(e)&&(e=0);if(!(a.newPagination.limit<0)){for(r=0;o=a.show[r];r++)e<=r&&r<=i?n.push(o):s.push(o);for(a.show=n,r=0;o=a.toHide[r];r++)o.isShown||(a.toHide.splice(r,1),o.isShown=!1,r--);for(r=0;o=s[r];r++)a.hide.push(o),-1<(g=a.toShow.indexOf(o))&&a.toShow.splice(g,1),o.isShown&&a.toHide.push(o)}}}),u.Mixer.registerFilter("operationUnmappedGetOperation","pagination",function(a,t){var e=this;return e.config.pagination.limit<0||(a.startState=e.state,a.startPagination=e.state.activePagination,a.startTotalPages=e.state.totalPages,a.newPagination=new u.CommandPaginate,a.newPagination.limit=a.startPagination.limit,a.newPagination.page=a.startPagination.page,t.paginate?e.parsePaginateCommand(t.paginate,a):(t.filter||t.sort)&&(d.extend(a.newPagination,a.startPagination),e.config.pagination.maintainActivePage?a.newPagination.page=e.state.activePagination.page:a.newPagination.page=1)),a}),u.Mixer.registerFilter("operationMappedGetOperation","pagination",function(a,t,e){var i=this,n=null,s=-1;if(i.config.pagination.limit<0)return a;if(e)return a;if(i.config.pagination.generatePageList&&0<i.dom.pageListEls.length)for(s=0;n=i.dom.pageListEls[s];s++)i.renderPageListEl(n,a);if(i.config.pagination.generatePageStats&&0<i.dom.pageStatsEls.length)for(s=0;n=i.dom.pageStatsEls[s];s++)i.renderPageStatsEl(n,a);return a}),u.Mixer.extend({parsePaginateCommand:function(a,t){if(-1<a.page){if(0===a.page)throw new Error(u.messages.ERROR_PAGINATE_INDEX_RANGE);t.newPagination.page=Math.max(1,Math.min(1/0,a.page))}else"next"===a.action?t.newPagination.page=this.getNextPage():"prev"===a.action?t.newPagination.page=this.getPrevPage():a.anchor&&(t.newPagination.anchor=a.anchor);-1<a.limit&&(t.newPagination.limit=a.limit),t.newPagination.limit!==t.startPagination.limit&&(t.newTotalPages=t.newPagination.limit?Math.max(Math.ceil(t.startState.matching.length/t.newPagination.limit),1):1),(t.newPagination.limit<=0||t.newPagination.limit===1/0)&&(t.newPagination.page=1)},getNextPage:function(){var a=this,t=-1;return(t=a.state.activePagination.page+1)>a.state.totalPages&&(t=a.config.pagination.loop?1:a.state.activePagination.page),t},getPrevPage:function(){var a=this,t=-1;return(t=a.state.activePagination.page-1)<1&&(t=a.config.pagination.loop?a.state.totalPages:a.state.activePagination.page),t},renderPageListEl:function(a,t){var e,i,n,s=this,o="",g=[],r=null,l=null,c=[],p=!1,m=!1,f=null,P=-1;if(t.newPagination.limit<0||t.newPagination.limit===1/0||t.newTotalPages<2&&s.config.pagination.hidePageListIfSinglePage)return a.innerHTML="",void d.addClass(a,s.classNamesPageList.disabled);for(e=t.newPagination.page-1,l="function"==typeof(l=s.config.render.pager)?l:null,s.config.pagination.maxPagers<1/0&&t.newTotalPages>s.config.pagination.maxPagers&&(c=s.getAllowedIndices(t)),(r=new u.ModelPager).isPrev=!0,r.classList.push(s.classNamesPager.base,s.classNamesPager.prev),1!==t.newPagination.page||s.config.pagination.loop||(r.classList.push(s.classNamesPager.disabled),r.isDisabled=!0),r.classNames=r.classList.join(" "),o=(l||d.template(s.config.templates.pagerPrev))(r),g.push(o),P=0;P<t.newTotalPages;P++)(o=s.renderPager(P,t,c))||P<e&&p||e<P&&m?o&&g.push(o):((r=new u.ModelPager).isTruncationMarker=!0,r.classList.push(s.classNamesPager.base,s.classNamesPager.truncationMarker),r.classNames=r.classList.join(" "),o=(l||d.template(s.config.templates.pagerTruncationMarker))(r),g.push(o),P<e&&(p=!0),e<P&&(m=!0));for((r=new u.ModelPager).isNext=!0,r.classList.push(s.classNamesPager.base,s.classNamesPager.next),t.newPagination.page!==t.newTotalPages||s.config.pagination.loop||r.classList.push(s.classNamesPager.disabled),r.classNames=r.classList.join(" "),o=(l||d.template(s.config.templates.pagerNext))(r),g.push(o),n=g.join(" "),a.innerHTML=n,i=a.querySelectorAll("."+s.classNamesPager.disabled),P=0;f=i[P];P++)"boolean"==typeof f.disabled&&(f.disabled=!0);p||m?d.addClass(a,s.classNamesPageList.truncated):d.removeClass(a,s.classNamesPageList.truncated),1<t.newTotalPages?d.removeClass(a,s.classNamesPageList.disabled):d.addClass(a,s.classNamesPageList.disabled)},getAllowedIndices:function(a){var t,e,i=a.newPagination.page-1,n=a.newTotalPages-1,s=[],o=-1,g=-1,r=-1;for(s.push(0),o=this.config.pagination.maxPagers-2,g=0,(t=i-Math.ceil((o-1)/2))<1&&(g=1-t),n-1<(e=i+Math.floor((o-1)/2))&&(g=n-1-e),r=t+g;o;)s.push(r),r++,o--;return s.push(n),s},renderPager:function(a,t,e){var i=this,n=null,s=t.newPagination.page-1,o=new u.ModelPager;return i.config.pagination.maxPagers<1/0&&e.length&&e.indexOf(a)<0?"":(n="function"==typeof(n=i.config.render.pager)?n:null,o.isPageLink=!0,o.classList.push(i.classNamesPager.base),0===a&&o.classList.push(i.classNamesPager.first),a===t.newTotalPages-1&&o.classList.push(i.classNamesPager.last),a===s&&o.classList.push(i.classNamesPager.active),o.classNames=o.classList.join(" "),o.pageNumber=a+1,(n||d.template(i.config.templates.pager))(o))},renderPageStatsEl:function(a,t){var e=this,i=new u.ModelPageStats,n=null,s="",o="";if(t.newPagination.limit<0||t.newPagination.limit===1/0||t.newTotalPages<2&&e.config.pagination.hidePageStatsIfSinglePage)return a.innerHTML="",void d.addClass(a,e.classNamesPageStats.disabled);n="function"==typeof(n=e.config.render.pageStats)?n:null,i.totalTargets=t.matching.length,o=i.totalTargets?1===t.newPagination.limit?e.config.templates.pageStatsSingle:e.config.templates.pageStats:e.config.templates.pageStatsFail,i.totalTargets&&0<t.newPagination.limit?(i.startPageAt=(t.newPagination.page-1)*t.newPagination.limit+1,i.endPageAt=Math.min(i.startPageAt+t.newPagination.limit-1,i.totalTargets)):i.startPageAt=i.endPageAt=0,s=(n||d.template(o))(i),a.innerHTML=s,i.totalTargets?d.removeClass(a,e.classNamesPageStats.disabled):d.addClass(a,e.classNamesPageStats.disabled)},parsePaginateArgs:function(a){var t=new u.UserInstruction,e=null,i=-1;for(t.animate=this.config.animation.enable,t.command=new u.CommandPaginate,i=0;i<a.length;i++)null!==(e=a[i])&&("object"==typeof e&&d.isElement(e,this.dom.document)?t.command.anchor=e:e instanceof u.CommandPaginate||"object"==typeof e?d.extend(t.command,e):"number"==typeof e?t.command.page=e:"string"!=typeof e||isNaN(parseInt(e))?"string"==typeof e?t.command.action=e:"boolean"==typeof e?t.animate=e:"function"==typeof e&&(t.callback=e):t.command.page=parseInt(e));return d.freeze(t),t},paginate:function(){var a=this.parsePaginateArgs(arguments);return this.multimix({paginate:a.command},a.animate,a.callback)},nextPage:function(){var a=this.parsePaginateArgs(arguments);return this.multimix({paginate:{action:"next"}},a.animate,a.callback)},prevPage:function(){var a=this.parsePaginateArgs(arguments);return this.multimix({paginate:{action:"prev"}},a.animate,a.callback)}}),u.Facade.registerAction("afterConstruct","pagination",function(a){this.paginate=a.paginate.bind(a),this.nextPage=a.nextPage.bind(a),this.prevPage=a.prevPage.bind(a)})};if(t.TYPE="mixitup-extension",t.NAME="mixitup-pagination",t.EXTENSION_VERSION="3.2.0",t.REQUIRE_CORE_VERSION="^3.1.8","object"==typeof exports&&"object"==typeof module)module.exports=t;else if("function"==typeof define&&define.amd)define(function(){return t});else{if(!a.mixitup||"function"!=typeof a.mixitup)throw new Error("[MixItUp Pagination] MixItUp core not found");t(a.mixitup)}}(window);